<%
local dsp=require"luci.dispatcher"
local uci=luci.model.uci.cursor()
-%>

<style>
.pure-g
{
    letter-spacing: -.31em;
    text-rendering: optimizespeed;
    display: -webkit-box;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-orient: horizontal;
    -webkit-box-direction: normal;
    -webkit-flex-flow: row wrap;
    -ms-flex-flow: row wrap;
    flex-flow: row wrap;
    -webkit-align-content: flex-start;
    -ms-flex-line-pack: start;
    align-content: flex-start;	
    background-color: rgba(255, 255, 255, 0.7);
	box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.32), 0 1px 5px 0 rgba(0,0,0,0.2);
	scrollbar-color: rgba(255, 255, 255, 0.7) rgba(50,50,50,.7);
	scrollbar-width: thin;
	overflow-x: auto;
	padding: 0.5rem;
 
	
}

@media all and (-ms-high-contrast:none), (-ms-high-contrast:active) {

table .pure-g
{
    display: block
}
}
.opera-only :-o-prefocus, .pure-g {
word-spacing:-.43em
}

.pure-u
{
    display: inline-block;
    zoom: 1;
    letter-spacing: normal;
    word-spacing: normal;
    vertical-align: top;
    text-rendering: auto
}

.pure-g [class*=pure-u]
{
    font-family: sans-serif
}

.pure-u-1, .pure-u-1-1, .pure-u-1-12, .pure-u-1-2, .pure-u-1-24, .pure-u-1-3, .pure-u-1-4, .pure-u-1-5, .pure-u-1-6, .pure-u-1-8, .pure-u-10-24, .pure-u-11-12, .pure-u-11-24, .pure-u-12-24, .pure-u-13-24, .pure-u-14-24, .pure-u-15-24, .pure-u-16-24, .pure-u-17-24, .pure-u-18-24, .pure-u-19-24, .pure-u-2-24, .pure-u-2-3, .pure-u-2-5, .pure-u-20-24, .pure-u-21-24, .pure-u-22-24, .pure-u-23-24, .pure-u-24-24, .pure-u-3-24, .pure-u-3-4, .pure-u-3-5, .pure-u-3-8, .pure-u-4-24, .pure-u-4-5, .pure-u-5-12, .pure-u-5-24, .pure-u-5-5, .pure-u-5-6, .pure-u-5-8, .pure-u-6-24, .pure-u-7-12, .pure-u-7-24, .pure-u-7-8, .pure-u-8-24, .pure-u-9-24
{
    display: inline-block;
    zoom: 1;
    letter-spacing: normal;
    word-spacing: normal;
    vertical-align: top;
    text-rendering: auto;

}

.pure-u-1-24
{
    width: 4.1667%
}

.pure-u-1-12, .pure-u-2-24
{
    width: 8.3333%
}

.pure-u-1-8, .pure-u-3-24
{
    width: 12.5%
}

.pure-u-1-6, .pure-u-4-24
{
    width: 16.6667%
}

.pure-u-1-5
{
    width: 20%
}

.pure-u-5-24
{
    width: 20.8333%
}

.pure-u-1-4, .pure-u-6-24
{
    width: 20%
}

.pure-u-7-24
{
    width: 29.1667%
}

.pure-u-1-3, .pure-u-8-24
{
    width: 30%
}

.pure-u-3-8, .pure-u-9-24
{
    width: 37.5%
}

.pure-u-2-5
{
    width: 40%
}

.pure-u-10-24, .pure-u-5-12
{
    width: 41.6667%
}

.pure-u-11-24
{
    width: 45.8333%
}

.pure-u-1-2, .pure-u-12-24
{
    width: 50%
}

.pure-u-13-24
{
    width: 54.1667%
}

.pure-u-14-24, .pure-u-7-12
{
    width: 58.3333%
}

.pure-u-3-5
{
    width: 55%;
}

.pure-u-15-24, .pure-u-5-8
{
    width: 62.5%
}

.pure-u-16-24, .pure-u-2-3
{
    width: 66.6667%
}

.pure-u-17-24
{
    width: 70.8333%
}

.pure-u-18-24, .pure-u-3-4
{
    width: 75%
}

.pure-u-19-24
{
    width: 79.1667%
}

.pure-u-4-5
{
    width: 80%
}

.pure-u-20-24, .pure-u-5-6
{
    width: 83.3333%
}

.pure-u-21-24, .pure-u-7-8
{
    width: 87.5%
}

.pure-u-11-12, .pure-u-22-24
{
    width: 91.6667%
}

.pure-u-23-24
{
    width: 95.8333%
}

.pure-u-1, .pure-u-1-1, .pure-u-24-24, .pure-u-5-5
{
    width: 100%
}

.cbi-page-actions.control-group
{
    margin-bottom: 0.5rem;
}

.cbi-page-actions.control-group.fixed
{
    bottom: 2.9rem;
}

.block
{
    margin: 0.2rem;
    padding: 0;
    font-weight: normal;
    font-style: normal;
    line-height: 2em;
    border-radius: .375rem;
    background-color: #fff!important;
}



.img-con
{
    margin: 0.5rem;
}

.green
{
    color: #2dce89;
}

.red
{
    color: #fb6340;
}

.yellow
{
    color: #fb9a05;
}

.block img
{
    width: 52px;
    height: auto;
    line-height: 2em;

}

.pure-u-5-8
{
    display: flex;
	align-items:center;
}

.block h4
{
    font-size: .9rem;
    font-weight: 600px;
    margin: 0rem;
    color: #8898aa!important;
    line-height: 2em;
    align-items: center;
    padding: 0;
    margin-top: 0.5rem;
}

.check
{
    cursor: pointer;
}

#check_port.pure-u-1-1 .pure-u-8-24
{
    width: 10%;
}

#check_port.pure-u-1-1 .pure-u-16-24
{
    width: 90%;
}
}
@media screen and (max-width:1366px) {

.block h4
{
    font-weight: normal;
    margin-top: 0.8rem;
    font-size: 0.8rem;
}

#check_port
{
    display: none;
}

.block
{
    margin: 0.8rem;
}

.pure-u-1-4
{
    width: 33%;
}

.pure-u-1-5
{
    width: 40%;
}

}

 @media screen and (max-width:992px) {
 .img-con {
 margin: 1rem;
}
.block h4
{
    font-size: .7rem;
}
 .block img {
 width: 36px;
}
.pure-u-1-4
{
    width: 50%;
}
}

</style>


<fieldset id="cssr_status_fieldset" class="cbi-section">
  <div class="pure-g status">
    <div class="pure-u-1-4">
      <div class="block pure-g">
        <div class="pure-u-2-5">
          <div class="img-con"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkBAMAAACCzIhnAAAAA3NCSVQICAjb4U/gAAAAG1BMVEU6v+Z61O7O7/mb3/JMxejm9/y25/Zey+v///9Jar1pAAAACXRSTlP//////////wBTT3gSAAAACXBIWXMAAAsSAAALEgHS3X78AAAAH3RFWHRTb2Z0d2FyZQBNYWNyb21lZGlhIEZpcmV3b3JrcyA4tWjSeAAAAp9JREFUWIXtlk1v00AQhjexia+pKkqOoaiSj1GpQo5GEOgxFUXysaAm9dGhQvRqB4f52Xg/bO96ZkiXc95LG68f7847H7YAb4kjckSUqs1mc670VSl9BpILW+FHqV9KJ1pva82dg/0Rz9BPN5b8MBGmLnJ7GBn2HKsS9tb3r/TfRd/kKQd8f6OfNkB5KUlgu4Yb8+8Sp/IOA49rgIfmR4yRfe/+8PECLCIAomBmDnAaS1Ou2gsTCtl1QHSmSsYiQqCQdptormusHHcPGdJIoV29NEW5tysioxGQTx21dtjEABikMGFKfUlsN544RBqQUoS5SiArbX+t126OzGkJpLbsmiKa02Kkapx56BERcEihF60EGr1gkZXKGCb01iQyloe2U24UAIfIUFKCMEmhkDqUYE+MjTBlkTqUD9SgGQKLEEdSWrBIxRADYJGCQZYkkppQSMUU8i2TEBNKAATyblSepGwoEwK5F1E+aUMJt5fOeA4BI3IYynaYyhu289iZNHZSWkQNvOVNVr8tPp9dYLczjKhBFIq0Ol23K5YRA0BIQa1MO+QJI/qBkbM9/O6QFCF6k9AlrPhHgBA9Ul+6C1b8C4To19An6KuJPwKEqENH+LugiX+JkRk2Ran5CsgQUlGbS5kXWtC/LrRfxCYACZEUhcgOCckvHF0TaEmohSFF6HbDS0JtvyAAEz9eEmW/HTrtUd1pZIcrolWCkyKRgvMLVPwxgciGJa4rrXBSJHJH51GpcMZEi4yJ/DYqSV9E3r2esH6QSMJHz4jO1kEk9kSS/jQ4jORcufDImE8Lh9xTlfdv5NYfKfyRnT9S+iOQeDsGM39k5Z39uo9iX6TyruR6KPj2Sz3h+K7kkIrtfRaBK3+kyLwR+A/ET0fkiHjpL7fAGZwAcucFAAAAAElFTkSuQmCC" ></div>
       </div>
        <div class="pure-u-3-5">
          <h4 id="tcp_status">
            <%:TCP%>
            <br />
            <span class="red">
            <%:Not Running%>
            </span></h4>
        </div>
      </div>
    </div>
    <div class="pure-u-1-4">
      <div class="block pure-g">
        <div class="pure-u-2-5">
          <div class="img-con"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkBAMAAACCzIhnAAAAA3NCSVQICAjb4U/gAAAAGFBMVEX7s0T9153////8v2L+7tb8zIL+47n/9upAK4WGAAAACHRSTlP//wD//////xdF+RgAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAfdEVYdFNvZnR3YXJlAE1hY3JvbWVkaWEgRmlyZXdvcmtzIDi1aNJ4AAADWklEQVRYhaWYS3PaMBCA15jHFWgnuYIw+EqdaXslTGdyTcmkuRI3pVfidvj9taXVamXLllH3wGBJn6V9SN4VCIf8fX26A7j7fPPg6oVm0+UJSEa/eyDJB7DkU+FDLluoSVyfqIa814FKXroQJ1FnLGTpJgDmbcimoQdJ7kbSdgLiwokc2wmAsQtpVaSuDiFdy7KXRsifbgLgax1JfATAvobs/MjQRnpMQtMgcu6DTDjiM5cSNJpCVn0IgIwh035IZJBNPwKjE3orX8mEkF7KVzLSCFvX6E2k94/mOf74IC7sOUdkYQhpxpTGxHnNOhNETAv6N9ErzetRHikkJYKCda2edVSxvVRIZG0pJ8xS2O6lhRwkQibODJI8kiL2NBOJ6DfwI0Gkp9OePdKgqEJIlaHoEIrCokTIK3kXkppRQPyoizBHVlYiO+alDlnTMCDF5t2I3upRiWjPqp772ayFwSiKBWi9xtTRgmj3FaANlvkQrUwO+t/ch2hlDqBtXPgQrXQGZ9srHQh6ZgI7O1o6kAWOBGQH1WpPp1OJlL+5HvazCufN9gvTfwzoyXIfsI00QGIjjX9U8Ye2jQA9tHciq8p1ld6VC9CDI9ga3zeRhTQlYACqoTEicTsihG6YWkjkRpayZ4qO3iGCZqiaktlsVr6h/KWonlaDl3h+L4ALbZa6X2RQJGQMJoM2hMvaQrI+iNZ1S570IhvLYvM+SBKOqIDJdfOv5+dWJMWAmdpIlygkwuDvhQjlddxi+/7IEDfyFQub4HFxBZLhoXQFcsCjz3MgK1F+yfGAPfgBHTAFHuOZH8CwjPXHYtAHkWpXH4uztcWkvM9QbqzmlRqJH76x1WeSlj1vPisV8PNqfShZbmrpeFTu0B/xxgKUWLPLyQtKFXLWxdNGlj6kSntKSHgywgjusCXaSac9LLWwzp5xrf1gkqvYZS97xVNcKKVw1GWfVmZ6rYpEVlaXPYlxjRw1EDwdRds06pgxf1UueNKrpnFUfS9mvZT0YuJwK1S215BbepVJrfEr+OPbqzvJ/v6GHTkhAWVCSDESUPIEFFYh5ZvY+YlakWgqA+8k/1PwhpTVAcV7yBUBq6eaMnJfRARcd4RcqoRc3YRcEIVcQ5V2u/qySwRcqVXSfXH3D7qMmGJ8GoboAAAAAElFTkSuQmCC" ></div>

        </div>
        <div class="pure-u-3-5">
          <h4 id="udp_status">
            <%:UDP%>
            <br />
            <span class="red">
            <%:Not Running%>
            </span></h4>
        </div>
      </div>
    </div>
    <div class="pure-u-1-4">
      <div class="block pure-g">
        <div class="pure-u-2-5">
          <div class="img-con"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkBAMAAACCzIhnAAAAA3NCSVQICAjb4U/gAAAAGFBMVEX1OF38ucb2Smz////4fJX+5+v3YH76lKhmnvr0AAAACXBIWXMAAAsSAAALEgHS3X78AAAAH3RFWHRTb2Z0d2FyZQBNYWNyb21lZGlhIEZpcmV3b3JrcyA4tWjSeAAAAxtJREFUWIWtmEtz2jAQgBcPmCtTt+nVlJJeAeHk6hTKGeIwvdImca4Upv393V3JiuwYkLbdmcwE2Z+lXa32IVAtsv24+plG10+/tm1P4e3Q5itY+fzBA8kOUJMvxSVks4OGxM2JGsj3JkDy7RzSSjSZGnLbTgAcTyHT9BQSJe1I9kZzxwZFK/LuNAEwbENOKtJUxyLnllVfmkXuzxMA4yaSpZeQqGggZ3XXMqwjlyd5nQY8NSEZu4jPJHYajdz4EACPDrL3Q/qvyNSPAEgs4qU8ydgiO18krhDvdemVETLzR8YG8bQXSV8jmT8BUDAyD0EWjKxDkB4jAaqwMhCmCikDIbtCkiDi6cWVPCISpD3pD2Hak/6g0jAkVhBoMDQZBBoMTQZB7kKygADP1zKCQBujlRkZUSh7j4GKzinl5A65UVepHJP4lkfoOG4PGhkYhIIGI+RBHXJWRvomMiY2oXRgb5HMIGpAyEwjRzOS2BDZh9wiam+QOSFTRuy8ifkqrhd2jEzLH3jW8IWrpwLfQETlXf33UP4eEHJTHjl8xRVCB2ESkQoYRBi5JwRVSSECQiak156QtEISNWMEX08JmRLSqeIiITEphR+oEHxhUiE7QtRSz7JZpQaJDAJa/S1Gm0EdeUCEI2q2dxGoEA7NLlKojIycGEO5SGqRObjIgoZyNgSNuguzCG6tiww1Ai9Uwa1r6msjZ8tlCuBa7FOhEa4rZg7i7AsYpKf3JV1UCDrNTW1f8gaCpVdm9yaH5wPvGCML3qSucUuLkNwyQik7x0VtEq1L5WN94/w1ZM0IOXH+rEeMsTlJdMwRcxE8HYz0tMPwtAbZO6fSQWivGYnp63fkbeZUqit9KilcdJcr7QYlCm1UVJb8C/+P9bNr84TChSAoCUKfIMD6lxZaYlmyEKQkQeITpFdBEheUCpKCRFD2CIorQQkXUiiOlLgcFRS9ktJaUMAL2gRJM3KpQ9RSa3kEjZWkffNpEqte9B9aUUHDK2mrBc275IpAchEhuO6QXKpIrm4kF0SSayi025868VI03/gfV2ok5y/u/gJ+KnR0ZBLdnQAAAABJRU5ErkJggg==" > </div>
        </div>
        <div class="pure-u-3-5">
          <h4 id="pdnsd_status">DNS<br />
            <span class="red">
            <%:Not Running%>
            </span></h4>
        </div>
      </div>
    </div>
    <div class="pure-u-1-4">
      <div class="block pure-g">
        <div class="pure-u-2-5">
          <div class="img-con"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkBAMAAACCzIhnAAAAA3NCSVQICAjb4U/gAAAAGFBMVEUKqqqZ29s+u7v////f9PRmzMwZrq655ua3h7SuAAAACHRSTlP///8A/////znllVgAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAfdEVYdFNvZnR3YXJlAE1hY3JvbWVkaWEgRmlyZXdvcmtzIDi1aNJ4AAADtklEQVRYhaWYzXPaPBCHt55BXCFum6tDwHdnzficmNKrAy/JVXhAXNM6kH//3V0ZSPiU1Z0EsOzHWv129Ql4wkZ/JrEx5eB2dOouHBdlP+h5a+Vz5YCk6x0g0Gt+DclezIEtDys6QB7jQ4Iq+n4JSU4QRwxcJ4gJzyHZGYKY6gxy1PK9zU8jf88TxvRPIcklwpjwBHLBLbblMTK8TBgzPUTS+BpS5gfI0zVirwC4VrKvBpwrMeb+C3JFLmvLz8hVuaxNPyE/3ZD5HkndCGPyHfLgitzvEKfGsy23iLNfxlQ14uyX9Qzc9WKb10jsjpQWudK3vlooiFN+ba0vSIOmSGOgUVOkMYBZE4IjA65ZvLUpIeNmyIKQTTNkRYhzTlpbEhI3Q0qEhoKRZNAoXdhCEI01gOJvANhf8r+WH7a0tilIhqnBLOIHylms5HKijenF5Dl9wGDW+8T0Ycxv/Y+msMLoec5fRr/SPGsCfFB6ij+5NL1RO2QBHJZvMpYp6ab01eLLDiMtSieVS18nZ62DK6A8pnc9dimk3zC9RYz0PWbf04gQ6ONYtTHrVkMVdMm4sjlQJHWVabjTuo8beuhNV2mkbhTXkqeRXmAHWoVq1Z6YJcSM0E8w9PaIahqrPAEN3JY2PUOl2ujaW0ZKi2TspZ7S6NTCJyV3GJliwS8qWOkWrmeziSAsWIh/JlptkWCLJJgpTt1kFgPdKOr4CMKj02O0Rx4sQkJFRjxKXxgxNjryGbCOT2CRh08IvikJGibU/O5orXaIXt6+YwJHtTyKi+r5A7GQ5hc7hOIUVCk5pr+0JY2q1GZcHzstTN/tu2wtittDEWVkvFNsCPfYoVo4Pd5auAlyucEimyAC8krkbOMb5KI5R79N71WkVBs7qqchTHZxmf7qDei5FQ57IRak+c3gl0Q/QCrNJlIKFIVMkJdaG3mALDOUItxSyWR6NrSl5SyyyJLT0rCMaWHl3CijKr4UZIHjFUop+QZVImnJyR+8jn6/sJyvo7Vmzd/psvz4S5n1sYa799EP1mV4J7qsbBcD/hPlpEODqsU32opKBdJtNtLFXKcK6hqYaenIzkOyeu6y8zRcuA9K9SgU+gx9HgOszzDuMVmMmyELv4nPY3r1mMR9lgoeCxKPZY/H4spnCeexUGwQmXy76HX2bP4vS2uPBbzHNsFnM+Kx5fHZWHls3zw2iT5bUY8Nr8+22mfzflmBk0cEPgcRPscdHocqZ49uvhD/fkDkcwzlc9iFHkdqbJcP7v4HaZ1HbaE55UsAAAAASUVORK5CYII=" > </div>
        </div>
        <div class="pure-u-3-5">
          <h4 id="server_status">SERVER<br />
            <span class="red">
            <%:Not Running%>
            </span></h4>
        </div>
      </div>
    </div>
    <div class="pure-u-1-4 check" onclick="check_ip(0)">
      <div class="block pure-g">
        <div class="pure-u-2-5">
          <div class="img-con"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkBAMAAACCzIhnAAAAA3NCSVQICAjb4U/gAAAAGFBMVEV6TI26osT////UxdqQaaDq4u2ig7CEWZWjNGPbAAAACHRSTlP//wD//////xdF+RgAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAfdEVYdFNvZnR3YXJlAE1hY3JvbWVkaWEgRmlyZXdvcmtzIDi1aNJ4AAAEh0lEQVRYhaWYS2PaOBCAlU0WX4GkcLZcsVdK0uTaEhOuWxOHK9AUrtAa9Pd3Ru+X6S47B5pK/jQPjaSRCE3JovfO+Uvvc7KTpIBByYWU6xQUI4t37shLDEXIIw/k+28QdhcSnH+tziFsGBOcn6p2JE2EjIe0EJwf2pCHNoLz5zSStxOc91MIm59DmiqBPJ0jOP8VI65ZzbZ3D9Lbuor7ETK0wK0xgn2y0CFErJLv3iSwx0iNRrSSU5SGi53u8hGt5FCFhJMTfQ9RrWEGKubO80YiRbsOV8/EQZbS2BYCGOnP0UHmziBJkWY0FpHO/2gnKH2zARDIkzdVaRmarCHGrjNmGdMajeR+2rXIk7YMEYxXE0SL3d+HLXMVM0QwgjO//xv0Nx/8tleVNICwWEkhvGt894SaSiCjWMkwyHcp6MBGIEsJO2JWQt9rZtIZIoYMwvWkkbj9IJB5ajQlkfYGkcIuntCucCyM7QQQ8H7qd3y0SNCzRP8J/jOJOrQc/Z4CWwj4FNjl7mhhGu2ghcDv9N8jH2F8AgH7T0hDCYtXyhkE5rAiRRT9M+7jjE1ILhPH194WZEzHPhnF6dc+lZiuG4KrIJiY1oQRi3lGHhImG/8D9WL4Z4K61AblmSwkcFIsvAPZpfrUZh+khRzppJB0Lsd5LJB50oTUdqHMbQhP2gBH3m24qeujSSOhmlhMTAwS7n2h2LLAIF7NkRBbrRB7SvfPETaJGrIzf7cfYuYYc+cllR6uDLmDOP9pd8ctuw7EK8Jazr4395tnmfxGonIVxS9qZ2TEf8OwoAzekLDWewn2wWIXfNAnBQ9l7QSbDaLuCWFRG2/WtzV8XtefBonisSJUtxIriJVlbxh/jwuYmJxe97QMVN9fKeQktnEhe5tiLBMtegskGd8r3ZyLbXypEVZLqQqJVLKnKedoZlnuRfNRHkkSGSlPfhaZGLX6G3+zKzoiG1S++ILfbeTBp5D1FqXXL7ITukS/4e/KIHSEaibqeJWIcqUusms7M2OJMAw7V8erSmxAwA2YjMpHuhLp4nJa6UN8qRHOr1HlFJG7sqxey/KrRfb4o0qFkXX/mu6F+9d0RTKaE9JxkCkd64KEaeTQ+0HBYaFlxW/AKN4JtciyRzoDyE9pvUKuYI/ILELIBBpVcSWdAeRYYw7XCvmTVrRrkMX9Z4yYLuFyhdyA+xWT7q8gG37R3CAoeWYKRTEzgGSAbOhYIjfwRUW3DsK6thwVlqmIdej4D4HM6Hh/pLlGIBN2mVP05gLJexCxQb3tI7KlbM9vKuq4n7mlNVoGtpvlDkhFXzOcChtk7hXwaBkgMvsrgdBiD990Hj3EvSYUbvIL99lKrI6Oh7iXEZhN8GUrZYNIVxDEQ7wrDwTAWchyKtH2d0zL+o3MakT8ixUdphDMqK7ZKPTBYC6JIvmFTJlGcJgvBgkvibT74U3uEvvjIruqJbJhD1moJH3hNUdo45yl8YX3gmv1JZf3C54ILnmIuOS5o/VRxb8IB0834SmXIP7/AxG94BmKXvLYRS94UhPQuYe7fwAyPvXeeliOaAAAAABJRU5ErkJggg==" > </div>
        </div>
        <div class="pure-u-3-5">
          <h4 id="status_ip0"> <span  id="ip0_addr">
            <%:IP Address%>
            </span> <br/>
            <span id="ip0_status" class="yellow">
            <%:Touch Check%>
            </span></h4>
        </div>
      </div>
    </div>
    <div class="pure-u-1-4 check" onclick="check_ip(1)">
      <div class="block pure-g">
        <div class="pure-u-2-5">
          <div class="img-con"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkBAMAAACCzIhnAAAAA3NCSVQICAjb4U/gAAAAGFBMVEUAfj59vZ3///8/nm3Q59wajFKi0Llfr4ZccMpvAAAACHRSTlP//wD//////xdF+RgAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAfdEVYdFNvZnR3YXJlAE1hY3JvbWVkaWEgRmlyZXdvcmtzIDi1aNJ4AAAEcklEQVRYhaWYS3PbNhCAl6YoXS02Tc+CYOqqqE58VWhGvbKM7Fxl1lWvKpVUfz9YAMRjATITdWfssQF+2AcWwALAYrL77T3A539fo50QA85PIOXpIQaFyO49OPI5hALkLyDy4QcI/5USAF/KMYSfQgJgVg4jcYIyHnIbJwCSIeTvIQLgOY6shgmALobw9RiSlhHkMEYATENk4XRnD/Pj6+44P9dOYx4gNr7Zf8YI/o+FZhSxvn+wViP0SxCBHumVpEEa7tZEDfhKaD5JRd98NRrR8/5nhLC5mrhIoduihGD0iK2DbOl0UUb5M3GQ2hkkKsqMzCLK+fthgrFHGwCJHLypisvJWAbGrhGzjGlZj8j02o8TjH3qEw0RjFdW+h/w45G21Noy0GYSJR9Ff/YmVDNTCA+VFNK7rA3VlBJZhUpOJN+tmk4iWwU7YlZC5zVz5QzIlJx6XXZNh+2JRGpnkZrRtPjaF3JmAOcoZbSnF38stsYZB7YEaPyOO4uQHhGAjUC2Qa5sLTLxewpsAeETTciDRYj/IvpTgayp9jHkTvgNImA/hWQMODkKxhExhyUUQfRH3McZawGTY0O1DwV5iUkE+JtYNjyVuDltQC62NlAfTRjZsQd52pHcN2cmUS+HfwbZnfldA8nP5AaYgFpNJADxJbZUjbCOdS6izquBUqijJvyB28XXqLlZbzVNTf7ytiRNQelBvAllSYlg76MSKwuexxGnWrGndD5G2CTKwOobPsQ8s1Jw4kDXjSNO2TUDtwYLyshe3IIzAa8IGzj7Hr0wqeQfZ/yidg9khkLbnCpGygZorfel9YmC5kkHBWmB7F3pqqhpfwucNmEF97bC76uXcwDgpsQirUKehEQ7MrnBKnm49HIW/812YsL2uxBJ5TauxKYY2jrF9iZi9VQdFgrhlZISIzLBFSWR7KkWP8bOiTqSFNL/cYNIgz5KJBFfyPWnKsaNOvg0ol3psKXjYnQfUYO3+niVyEq7UhWg9k9OEAb6eO0TO1+VVcl4VSIi90IXucXldJLbCpizAX2ZSg8K/O5l3hY3WIP0iPo1MQWJQbT7jZiubnWDaW+QBuPembJHIrPLVybcRy2l2LLbuwat9rWUtrhC5EY5KZAEB2LbBo9tg7TiQ11caWfy5YSX0ulCfNKyF3bb8JZ9Usju+IoR60u4hUYy4UvJ66bIGMfhxLwIde9MkFe2UFQzo9zfsENTTMVxmQubRJA7djHIyZajyjKFpOwgInaPVcQdImmhDPs4n3/TZ7otrfPFRUTsXF1ymUKJ8Binsjbug1taS8tybpa77OVeWjrno70mCETlvkQSPP0p4l4TCjf5G5WW6xBpHQRb8sXvahlj8t9L/wjiXXn6kPe+JColJDKrHmFf3QK9WIkvHCTV27C/9sn1TajJV3KF41rMclWO+wi9JLLTm35/n+wgVZnqbUrBVdS78EYlvPBeca2+5vJ+xRPBNQ8R1zx3XPOocsXTTfyBiF7P//8zFLvmsYtd8aQmobGHu+8C8u1JtNYZeQAAAABJRU5ErkJggg==" > </div>
        </div>
        <div class="pure-u-3-5">
          <h4 id="status_ip1"> <span  id="ip1_addr">
            <%:IP Address%>
            </span> <br/>
            <span id="ip1_status" class="yellow">
            <%:Touch Check%>
            </span></h4>
        </div>
      </div>
    </div>
    <div class="pure-u-1-4 check" onclick="check_net('baidu')">
      <div class="block pure-g">
        <div class="pure-u-2-5">
          <div class="img-con"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkBAMAAACCzIhnAAAAA3NCSVQICAjb4U/gAAAAG1BMVEUjGdx7deq5tvQzKd6fm/BUTOTl5PvOzPf///8mHbNDAAAACXRSTlP//////////wBTT3gSAAAACXBIWXMAAAsSAAALEgHS3X78AAAAH3RFWHRTb2Z0d2FyZQBNYWNyb21lZGlhIEZpcmV3b3JrcyA4tWjSeAAAA4RJREFUWIW1mEtTGkEQgAfYxSskVslxk5SVPWIlgEdUSO3RBDUcUUrdo1V5cQVx2Z8d5t09j92xUumTjf3N9HsXSGlK8TbOrA+hEJsgZJC+CvlB9tIAHzzUITvCpKcunZKTvBpZckRd82GvRNXIJUfIiqtrptxUIRtBkDnXO0yJq5AXiTTBJeoAJ/IkEX7wWGhRBdKRCMn3WoE0D3KpjFLopk66hehjmVGitLYX2Wlkju6MvMhWI6fogDgQWWutFYIMy/JZazBlVcjilcgpqGsVstE2c4T4YwE56iHEn7Gyr4wyhPjrAoq3Qoi/+qp1mfMgY3Mb+dk9ZHO4lDZ0kkFdUgu5pxFSRhW8DRU8lgzZ9GWIhYyfNrJOedNCEm2WwDqo/PVMRB7d0M6MUDLsdaF8zkoxyi2+k+RUDi1E5f9gr2zplXJx8TLFuYWoHcEcuJ19+ib/u9aR3E3Oc4WAgWf+FODQ2xmJj+gfU3piKhHQ8WjFMSke2AH3wEOC5nVoIQLsg0QS1BcHHkQttBVHFhppehBZIDqrFEk0EnkQ1QYNjoxrEd1srTwQAQnKAhG9zmkZfEjx57dGltqibYavMvZuH/BJKjWcU5xkWZcLpsWSwauGIE9PucmxUGULJyYC8sF7TDfdyIOATs6YhX5gis1iIXrftXKjCiI4G1kAvURJF4fYiPKdhQL8lB8BpCmWUgce+YKQhpHkA4EI728svwifkIVW23LBstJ95p3Sx8jQ1WPUbjobvMnNFmQSl45OxtIxEGoEHm65jWxNgrWqqpyYSiRjC0HPs6GNbGyCmm0AbiKJA6Hl+sX//F5aiB0JFVqvY5r7q9JGHJEQMTa79+ditBGydhKVL72XHgQ/YCBy7yGMawCy810ie9xG3LFzGTkRX+z8mtSF+N2iEjkQs+lNyWyk+hL4xYkEXgISLZFxLaISLZBdLaEf1yTUL/3yQ0L9IurVTyD9ekA9Sjjiml9bIohUNouSGCLP9fZUcoAswpAUIE/15lR6AEn+GzL/NyQwFogs682pwFhCupLIyXxN9cXvBiR4XNSQiU6um3wmqMfC5gV1clhfDhHifhYZ0kNISDByxUgkoJhyx0rEfA/x+6UXrP95JERtWL35L6DbXw8nk7NrdHNmI8VU2l+LN6Dycaqho9JG6Netbrc7+Qh/ELs7mzFg8KV0Ik553EOtqxX45C9ZydlMP2hf1gAAAABJRU5ErkJggg==" > </div>

        </div>
        <div class="pure-u-3-5">
          <h4 id="status_baidu">
            <%:Baidu Delay%>
            <br/>
            <span id="baidu_status" class="yellow">
            <%:Touch Check%>
            </span></h4>
        </div>
      </div>
    </div>
    <div class="pure-u-1-4 check"  onclick="check_net('github')">
      <div class="block pure-g">
        <div class="pure-u-2-5">
          <div class="img-con"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkBAMAAACCzIhnAAAAA3NCSVQICAjb4U/gAAAAG1BMVEUAAABsbGwzMzPW1tapqakYGBhSUlKNjY3///9yqzFcAAAACXRSTlP//////////wBTT3gSAAAACXBIWXMAAAsSAAALEgHS3X78AAAAH3RFWHRTb2Z0d2FyZQBNYWNyb21lZGlhIEZpcmV3b3JrcyA4tWjSeAAAA45JREFUWIWdmEtT1EAQgHuzJHulLC32GEuQPSJB3CNlAeZI8VCOqyLmCFJSe9XAkp9tJjPT3ZN5ZLBPye586Z5+TSfQPFvA/XNdHB4W83ikvt06gVbS0w0XZSP1fbdeSvrThizkQw6GJHdDyDFYchVGftkEwHYI+e0iAL74kY9uAmDTh+z7CIDvbuThxI+kpRNZ9xMAIxeyGyIA3thIHTCrM21uIQdhAmCtjzwMEQBlDxlUQmogWgmqUchODDLmyJC7pCinSeRvDAEwY8giDskIUZtPik8/XCs/3xXK8BIRtflJuylHjW2SGWNE+A9WzVyxsGUa0UG57EztKvP07fX1ty2tg4JQKuRR3VfS7+vJRiGv9m5zlfSP7KkCuVH3U5XTrHXpax2FiURqbfWy8cpKr5l3yJ/nINMOeXwOctkhN+wJg8ikQzAlKz+CSZgKhErl0o9QcZQtgjp1PbjkABdVLYK7p4ZgC+63NQXYA2I81j4XqEkmfoL5aNQieBPYCttM2gCmSygs3LI5kI89Z7YUenIJmGFZiGiaHI0B1BhwsRB0cwWYCoHYC8H4z+A9XoYRjPgZxOSxELRmAhjJQOyF4J5HkEci6NkEMPhlJJL+D4ISaxhEIysHMuBkhsQ0CyHUMMjJszCC0U9goS9jcyyjhAkWJSvLCRzhZRjBxDqnTB4oMXTTGdVLbCHPqJDDsaRlU3jC66DLqCkvWVMK7p+myDlrfWnUVtrWR90m6nxpHQusqQcsW7BFwEcxr89YsYxbhA1WXjVshJ61CHnZnNOZ8BF62SI1u0+dphk1PBcncre1ry8kY70TNc07PkVm3SEu9j/S7xXpVS/V6nuuQ5QISJ+LSVN5O3lZ0Pq9+9wgRO2CGscmfFbGHdmdSI49Mv4VHSHsnO0Pw6KoBLKj1um+w0r6oIeMFSKXTnHArgjpD9BThUj1a/jMkpAnk+iSHVB9ig7gg6KJrCGy0n7a1Vv07L9CRP7Rurw5vkhflxzJLbsUsoNam17wDWTMkCflZlsMZMkQWRCuNOaIGrMVsiLL/EhlILICHGoYoj2pkU5NUoaQqodINSLxi0M3guFCROf5hRlKQqYWQv3MjVD3IQRf950IvVXz9/39EFI1LkSb5kLOGzdSL3zIaO5BmofcjWRGrprfYTrGQnoR7n3tEUwfyUzC+qZUv4Izfn8E2/2T2v7YtWc+orAWeL7CheQfGG8H1TOTxm8AAAAASUVORK5CYII=" > </div>
        </div>
        <div class="pure-u-3-5">
          <h4 id="status_github">
            <%:Github Delay%>
            <br/>
            <span id="github_status" class="yellow">
            <%:Touch Check%>
            </span></h4>
        </div>
      </div>
    </div>
    <div class="pure-u-1-4 check" onclick="check_net('google')">
      <div class="block pure-g">
        <div class="pure-u-2-5">
          <div class="img-con"> <img src="data:image/png;base64,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" > </div>
        </div>
        <div class="pure-u-3-5">
          <h4 id="status_google">
            <%:Google Delay%>
            <br/>
            <span id="google_status" class="yellow">
            <%:Touch Check%>
            </span></h4>
        </div>
      </div>
    </div>
    <div class="pure-u-1-4 check"  onclick="check_net('youtube')">
      <div class="block pure-g">
        <div class="pure-u-2-5">
          <div class="img-con"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkBAMAAACCzIhnAAAAA3NCSVQICAjb4U/gAAAAG1BMVEX/AAD/Zmb/wMD/KSn/mZn/3d3/RUX/fHz///8Z4U3sAAAACXRSTlP//////////wBTT3gSAAAACXBIWXMAAAsSAAALEgHS3X78AAAAH3RFWHRTb2Z0d2FyZQBNYWNyb21lZGlhIEZpcmV3b3JrcyA4tWjSeAAAAcVJREFUWIXt18FOwkAQANDBKlxtYpQjVDEcDVjDkcRN4GoN2mON0XjUSFKvVqr9bLct2EZn1p05ks4ReKHb2Z2ZhYwd0JCGbB9JF56n1CyO3TKO4niplOctQoSkwezwfgxkjC/uloOwTvpn9K+rcA4qcmkD8jjfkBtbAeCXJLV6qnUMC3LNELBXkIhD2jlJOAJgrskHj0w06fHIjiZTHmlpss8jbU04WdHhaMITACGkXDIEZlpysuKSOXxxyRu8c0kXPpFPX03kCbAtFj4byASw0xKmEU18OMZIltB7YgQ9lGQr0uzCFCfZLUU6gK20qHFU3WkBtvfLsoitsiARSYiK2AZsmWuSoqfPMZEswR7BTND0OOjjVu3E+mjUOtAVn9i2hTqx/JsasT20teVjL9T8kqO/X5rzgqbfMe2xDD3PRkJtS3rzn6JCb37yiFEJaZEHmUxIR1Iu0DqGn5QyRkTpM3RDH63J/xRYQRkXNAt2S+pKGp+gvQqauGBUkAwkgrHHlGkkOrIRTjAoCsZR3tDrSEdrwQDPuSY8yC8jkiuPjmDmPhovVu6vi9Wm0i8C70SpOH75ub4pfX0boNc3TjSkIdtBvgFmRgzL2TYaAQAAAABJRU5ErkJggg==" > </div>
        </div>
        <div class="pure-u-3-5">
          <h4 id="status_youtube">
            <%:Youtube Delay%>
            <br/>
            <span id="youtube_status" class="yellow">
            <%:Touch Check%>
            </span></h4>
        </div>
      </div>
    </div>
  </div>
  <script>

//<![CDATA[
    const STATUS1_URL = '<%=url([[admin]], [[services]], [[shadowsocksr]], [[run]])%>';

    XHR.poll(5, STATUS1_URL, null,
        function (x, data) {
            if (data) {
		  		var tcp_status = document.getElementById('tcp_status');
				var udp_status = document.getElementById('udp_status');
				var pdnsd_status = document.getElementById('pdnsd_status');
				var server_status = document.getElementById('server_status');
                if (data.global) {
                    tcp_status.innerHTML = 'TCP<br /><span class="green"><%:Running%></span>';
                } else {
                    tcp_status.innerHTML = 'TCP<br /><span class="red"><%:Not Running%></span>';
                }
                if (data.udp) {
                    udp_status.innerHTML = 'UDP<br /><span class="green"><%:Running%></span>';
                } else {
                    udp_status.innerHTML = 'UDP<br /><span class="red"><%:Not Running%></span>';
                }
                if (data.pdnsd) {
                    pdnsd_status.innerHTML = 'DNS<br /><span class="green"><%:Running%></span>';
                } else {
                    pdnsd_status.innerHTML = 'DNS<br /><span class="red"><%:Not Running%></span>';
                }
                if (data.server) {
                    server_status.innerHTML = 'SERVER<br /><span class="green"><%:Running%></span>';
                } else {
                    server_status.innerHTML = 'SERVER<br /><span class="red"><%:Not Running%></span>';
                }
            }
        }
    );

 function check_ip(set){
        const $$ = document;
        let random = parseInt(Math.random() * 100000000);

        let IP = {
            get: (url, type) =>
                fetch(url, { method: 'GET' }).then((resp) => {
                    if (type === 'text')
                        return Promise.all([resp.ok, resp.status, resp.text(), resp.headers]);
                    else {
                        return Promise.all([resp.ok, resp.status, resp.json(), resp.headers]);
                    }
                }).then(([ok, status, data, headers]) => {
                    if (ok) {
                        let json = {
                            ok,
                            status,
                            data,
                            headers
                        }
                        return json;
                    } else {
                        throw new Error(JSON.stringify(json.error));
                    }
                }).catch(error => {
                    throw error;
                }),
            parseIPIpip: (ip, elID) => {
            	  var meta = document.createElement('meta');
            	  meta.name = "referrer";
            	  meta.content = "no-referrer-when-downgrade";
            	  document.getElementsByTagName('head')[0].appendChild(meta);
            	  
                IP.get(`https://qqwry.api.skk.moe/${ip}`, 'json')
                    .then(resp => {
                        $$.getElementById(elID).innerHTML = resp.data.geo;
                        //$$.getElementById(elID).innerHTML = `${resp.data.country} ${resp.data.regionName} ${resp.data.city} ${resp.data.isp}`;
                    })
                    
                var meta = document.createElement('meta');
            	  meta.name = "referrer";
            	  meta.content = "no-referrer";
            	  document.getElementsByTagName('head')[0].appendChild(meta); 
            },
            getIpipnetIP: () => {
                IP.get(`https://myip.ipip.net/?z=${random}`, 'text')
                    .then((resp) => {
                        let data = resp.data.replace('当前 IP：', '').split(' 来自于：');
                        $$.getElementById('ip0_status').className="green";
                        $$.getElementById('ip0_status').innerHTML = `${data[0]}`;
                        $$.getElementById('ip0_addr').innerHTML = `${data[1]}`;

                    });
            },
             getIpifyIP: () => {
                IP.get(`https://api.ipify.org/?format=json&z=${random}`, 'json')
                .then(resp => {
                $$.getElementById('ip1_status').className="green";
                $$.getElementById('ip1_status').innerHTML = resp.data.ip;
                return resp.data.ip;
                })
                .then(ip => {
                IP.parseIPIpip(ip, 'ip1_addr');
                })
            }
        };
			var s=document.getElementById('ip'+set+'_status');
			if (s){
				var div=s.parentNode.parentNode.parentNode.parentNode;
				div.removeAttribute('onclick');
                                 s.innerHTML='<span class="green"><%:Check...%></font>';
                                if (set){
				              IP.getIpifyIP();

                                       }else{

	                                      IP.getIpipnetIP();
				}
				
			}

		}

		function check_net(url){
			var s=document.getElementById(url+'_status');
			if (s){
				var div=s.parentNode.parentNode.parentNode.parentNode;
				div.removeAttribute('onclick');
				s.innerHTML='<%:Check...%>';
				XHR.get('<%=dsp.build_url("admin/services/shadowsocksr/checknet")%>',
					{url:url},
					function(x,rv){
						if (rv.ret==0){
							s.className="red";
							s.innerHTML='<%:Connect Error%>';
						}else{
							if (rv.ret<500){
								s.className="green";
							}else if (rv.ret<2000){
								s.className="yellow";
							}else{
								s.className="red";
							}
							s.innerHTML=rv.ret+" ms";
						}
						div.setAttribute('onclick','check_net("'+url+'")');
					}
				);
			}
			return false;
		}
		
setTimeout(function(){
			check_net('baidu')
			check_net('google')
			check_net('github')
			check_net('youtube')
		},500);
//]]>
</script>
</fieldset>
